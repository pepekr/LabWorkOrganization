<div class="task-detail-container">
  <div *ngIf="loading" class="loading">Loading task...</div>
  <div *ngIf="error" class="error">{{ error }}</div>

  <div *ngIf="task && userTask && !loading">
    <a routerLink="/course/{{courseId}}">&larr; Back to Course</a>

    <h1>{{ task.title }}</h1>

    <div class="task-meta">
      <p><strong>Due Date:</strong> {{ task.dueDate | date:'mediumDate' }}</p>
      <p><strong>Time Limit:</strong> {{ task.timeLimitPerStudent }}</p>
      <p><strong>Submission Required:</strong> {{ task.isSentRequired ? 'Yes' : 'No' }}</p>
    </div>

    <div class="task-description">
      <h3>Task Description</h3>
      <p>{{ task.description || 'No description provided.' }}</p>
    </div>

    <div class="task-actions">
      <button
        class="complete-btn"
        [class.returned]="userTask.isCompleted"
        [disabled]="loading"
        (click)="toggleCompletion()">
        {{ userTask.isCompleted ? 'Return' : 'Mark as Completed' }}
      </button>
    </div>
  </div>
</div>
