<div class="create-course-form">
  <h2>Manage Students in {{ subgroup?.name }}</h2>
  <button type="button" class="close-btn" (click)="cancel()">Ã—</button>

  <form #subgroupForm="ngForm" (ngSubmit)="submitForm(subgroupForm)">

    <div class="form-group add-student-group">
      <label for="newEmail">Add Student Email</label>
      <div class="add-controls">
        <input type="email"
               id="newEmail"
               name="newEmail"
               placeholder="student@example.com"
               [(ngModel)]="newEmail"
               [ngModelOptions]="{standalone: true}" />
        <button type="button" class="add-btn" (click)="addStudent()">Add</button>
      </div>
    </div>

    <div class="form-group">
      <label>Current Students ({{ students.length }})</label>

      <div *ngIf="loading" class="message">
        Loading students...
      </div>

      <ul class="student-list" *ngIf="!loading && students.length > 0; else noStudents">
        <li *ngFor="let student of students">
          <span>{{ student.email }}</span>
          <button type="button" class="remove-btn" (click)="removeStudent(student.email)">Ã—</button>
        </li>
      </ul>

      <ng-template #noStudents>
        <p class="no-students-text" *ngIf="!loading">No students added yet.</p>
      </ng-template>
    </div>
    <button type="submit" [disabled]="loading">Update Students</button>

    <div class="message success" *ngIf="successMessage">{{ successMessage }}</div>
    <div class="message error" *ngIf="errorMessage">{{ errorMessage }}</div>
  </form>
</div>
